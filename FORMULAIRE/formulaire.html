<DOCTYPE html!></DOCTYPE>
<html>

<head>
    <meta charset="utf-8" />
    <title>Test jQuery</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <h1>On va bosser avec jQuery, c'est super !</h1>
	
	<h2 class="bon">C'est parti avec AJAX, PHP et JQUERY...çà sera comment??? </h2>

    <div id="erreur">
        <p>Vous n'avez pas rempli correctement les champs du formulaire !</p>
    </div>

    <form>
        <label for="pseudo">Pseudonyme</label> <input type="text" id="pseudo" class="champ" /><br>
        <label for="mdp">Mot de passe</label> <input type="password" id="mdp" class="champ" /><br>
        <label for="confirmation">Confirmation</label> <input type="password" id="confirmation" class="champ" /><br>
        <label for="mail">E-mail</label> <input type="text" id="mail" class="champ" /><br>
        <input type="submit" id="envoi" value="Envoyer" /> <br><input type="reset" id="rafraichir" value="Rafraîchir" />
    </form>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
		$.ajax();
			$('#erreur').hide();
            var $pseudo = $('#pseudo'),
                $mdp = $('#mdp'),
                $confirmation = $('#confirmation'),
                $mail = $('#mail'),
                $envoi = $('#envoi'),
                $reset = $('#rafraichir'),
                $erreur = $('#erreur'),
                $champ = $('.champ');

            // le code précédent se trouve ici
            //------------------------------------------------------------------------------------
			
			
            $champ.keyup(function() {
                if ($(this).val().length < 5) { // si la chaîne de caractères est inférieure à 5
                    $(this).css({ // on rend le champ rouge
                        borderColor: 'red',
                        color: 'red'
                    });
                } else {
                    $(this).css({ // si tout est bon, on le rend vert
                        borderColor: 'green',
                        color: 'green'
                    });
                }
            });
            //----------------------------------------------------------------------------
            $confirmation.keyup(function() {
                if ($(this).val() != $mdp.val()) { // si la confirmation est différente du mot de passe
                    $(this).css({ // on rend le champ rouge
                        borderColor: 'red',
                        color: 'red'
                    });
                } else {
                    $(this).css({ // si tout est bon, on le rend vert
                        borderColor: 'green',
                        color: 'green'
                    });
                }
            });
            //----------------------------------------------------------------------
            function verifier(champ) {
                if (champ.val() == "") { // si le champ est vide
                    $erreur.css('display', 'block'); // on affiche le message d'erreur
                    champ.css({ // on rend le champ rouge
                        borderColor: 'red',
                        color: 'red'
                    });
                }
            }
            //----------------------------------------------------------------------
            $reset.click(function() {
                $champ.css({ // on remet le style des champs comme on l'avait défini dans le style CSS
                    borderColor: '#ccc',
                    color: '#555'
                });
                $erreur.css('display', 'none'); // on prend soin de cacher le message d'erreur
            });
            //--------------------------------------------------------------------
            $envoi.click(function(e) {
                e.preventDefault(); // on annule la fonction par défaut du bouton d'envoi

                // puis on lance la fonction de vérification sur tous les champs :
                verifier($pseudo);
                verifier($mdp);
                verifier($confirmation);
                verifier($mail);
            });



        });
    </script>
</body>

</html>